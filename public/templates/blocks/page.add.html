<md-dialog md-no-ink aria-label="New {{ modelName }}">
    <aa-toolbar title="New {{ modelName }}"></aa-toolbar>

    <form name="vm.addPageForm" ng-submit="addPage()" autocomplete="off">
        <md-dialog-content layout-padding>
            <md-content>
                <span ng-if="newPage.homepage">Note: since this is the first page that's being created for this site, it will automatically be set as the homepage</span>
                <md-input-container class="md-block" flex="100" flex-gt-sm="65">
                    <label>Title</label>
                    <input required name="title" ng-model="newPage.pageTitle" ng-blur="checkSlug()" />
                </md-input-container>
                <md-input-container class="md-block">
                    <label>Slug (optional)</label>
                    <input ng-model-options="{ updateOn: 'default blur' }" ng-change="checkSlug()" required name="slug" ng-model="newPage.slug" flex="65">
                    <div ng-messages="vm.addPageForm.slug.$error">
                        <p ng-message="unique">This slug is not available.</p>
                        <p ng-message="required">This field is required.</p>
                        <p ng-message="pattern">Slug must be lowercase and not contain any whitespace or special characters.</p>
                    </div>
                </md-input-container>
            </md-content>

            <md-dialog-actions layout="row" layout-align="end center">
                <md-button class="md-dashboard" ng-click="cancel()">
                    Cancel
                </md-button>
                <md-button md-no-ink ng-disabled="vm.addPageForm.$invalid || !vm.addPageForm.$dirty" class="md-dashboard confirm" type="submit">
                    <span class="btn-label">Create {{ modelName }}</span>
                </md-button>
            </md-dialog-actions>
        </md-dialog-content>
    </form>
</md-dialog>
